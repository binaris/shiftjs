# Snapshot report for `src/test/download.spec.ts`

The actual snapshot is saved in `download.spec.ts.snap`.

Generated by [AVA](https://ava.li).

## bad request

> Snapshot 1

    {
      err: ` ›   Error: Failed fetching ␊
       ›   http://localhost/bad-req/archive/master.tar.gz␊
      `,
      exitCode: 2,
      out: `Downloading application...␊
      `,
    }

## bad tgz

> Snapshot 1

    {
      err: ` ›   Error: Failed extracting application␊
      `,
      exitCode: 2,
      out: `Downloading application...␊
      `,
    }

## bad url

> Snapshot 1

    {
      err: ` ›   Error: Bad status code 401 when fetching ␊
       ›   http://localhost/bad-url/foo␊
      `,
      exitCode: 2,
      out: `Downloading application...␊
      `,
    }

## good tgz

> Snapshot 1

    {
      err: `npm notice created a lockfile as package-lock.json. You should commit this file.␊
      `,
      exitCode: 0,
      out: `Downloading application...␊
      Installing packages...␊
      up to date␊
      found 0 vulnerabilities␊
      ␊
      Your application is ready!␊
      `,
    }

## missing application

> Snapshot 1

    {
      err: ` ›   Error: Could not find application␊
      `,
      exitCode: 2,
      out: '',
    }

## no args

> Snapshot 1

    {
      err: ` ›   Error: Missing 1 required arg:␊
       ›   ID  application id␊
       ›   See more help with --help␊
      `,
      exitCode: 2,
      out: '',
    }

## no source url

> Snapshot 1

    {
      err: ` ›   Error: Application source is unknown␊
      `,
      exitCode: 2,
      out: '',
    }

## tgz with wrong dir

> Snapshot 1

    {
      err: `Error: spawn npm ENOENT␊
      `,
      exitCode: 1,
      out: `Downloading application...␊
      Installing packages...␊
      `,
    }

## too many args

> Snapshot 1

    {
      err: ` ›   Error: Unexpected argument: extra-arg␊
       ›   See more help with --help␊
      `,
      exitCode: 2,
      out: '',
    }

## verbose bad request

> Snapshot 1

    {
      err: ` ›   Error: Failed fetching ␊
       ›   http://localhost/bad-req/archive/master.tar.gz␊
      `,
      exitCode: 2,
      out: `Downloading application...␊
      download:  request to http://localhost/bad-req/archive/master.tar.gz failed, reason: socket hang up␊
      `,
    }

## verbose bad tgz

> Snapshot 1

    {
      err: ` ›   Error: Failed extracting application␊
      `,
      exitCode: 2,
      out: `Downloading application...␊
      extract:  zlib: unexpected end of file␊
      `,
    }

## verbose missing application

> Snapshot 1

    {
      err: ` ›   Error: Could not find application␊
      `,
      exitCode: 2,
      out: '',
    }

## verbose no source url

> Snapshot 1

    {
      err: ` ›   Error: Application source is unknown␊
      `,
      exitCode: 2,
      out: `application: { accountId: 'fake-account-id',␊
        createdAt: 1977-09-05T12:55:55.000Z,␊
        updatedAt: 1977-09-09T12:55:55.000Z,␊
        name: 'fake-name',␊
        environments: [],␊
        id: 'app-with-no-source' }␊
      `,
    }
