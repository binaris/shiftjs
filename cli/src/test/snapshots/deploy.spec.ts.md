# Snapshot report for `src/test/deploy.spec.ts`

The actual snapshot is saved in `deploy.spec.ts.snap`.

Generated by [AVA](https://ava.li).

## given --app-name but app not in list gives informative message

> Snapshot 1

    {
      err: ` ›   Error: Could not find application named: "not-found"␊
      `,
      exitCode: 2,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      `,
    }

## no project associated and 1 app deployed prompts user to select app, deploys correct app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      [?25l[36m?[39m [1mSelect target[22m [90m›[39m [90m- Use arrow-keys. Return to submit.[39m␊
      [36m❯[39m   [36m[4mcrunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[39m[24m[90m[39m␊
          Create new app[90m[39m␊
      [2K[1G[32m✔[39m [1mSelect target[22m [90m›[39m crunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)␊
      [?25hPreparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## no project associated and 1 app deployed prompts user to select app, deploys new app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      [?25l[36m?[39m [1mSelect target[22m [90m›[39m [90m- Use arrow-keys. Return to submit.[39m␊
      [36m❯[39m   [36m[4mcrunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[39m[24m[90m[39m␊
          Create new app[90m[39m␊
      [2K[1G[36m?[39m [1mSelect target[22m [90m›[39m [90m- Use arrow-keys. Return to submit.[39m␊
          crunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[90m[39m␊
      [36m❯[39m   [36m[4mCreate new app[39m[24m[90m[39m␊
      [2K[1G[32m✔[39m [1mSelect target[22m [90m›[39m Create new app␊
      [?25hPreparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## no project associated and no apps deployed deploys a new app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## project associated deploys to associated app

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## project associated deploys to new app with --new-app

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## project associated with --app-name deploys to named app and does not update association

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## project not associated with --app-name deploys to named app and does not update association

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## upload takes .env and --env options

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }

## upload throws if given --env option with no value

> Snapshot 1

    {
      err: ` ›   Error: Missing environment variable env_missing␊
      `,
      exitCode: 2,
      out: '',
    }

## project associated deploys to new app with --new-app

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait␊
      ␊
      > poll@ build PROJECT_DIR␊
      > echo nothing to do␊
      ␊
      nothing to do␊
      Preparing backend...␊
      built␊
      Uploading your assets! This may take a few moments, please wait␊
      Preparing your cloud deployment! This may take a few moments, please wait␊
      Project successfully deployed! Your project is now available at: https://a.b.c␊
      `,
    }
